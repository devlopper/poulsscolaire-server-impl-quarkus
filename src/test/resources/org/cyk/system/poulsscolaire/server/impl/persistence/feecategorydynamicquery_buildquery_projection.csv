Projection, RequÃªte
montantTotalChaine, "SELECT SUM(CASE WHEN a.optional THEN 0 ELSE COALESCE(a.value,0) END) FROM FeeCategory t LEFT JOIN Fee f ON f.category = t LEFT JOIN AdjustedFee af ON af.fee = f LEFT JOIN Amount a ON a = af.amount GROUP BY t.identifier,t.code,t.name ORDER BY t.name ASC,t.code ASC"
montantPayeChaine, "SELECT SUM(COALESCE(paf.amount,0)) FROM FeeCategory t LEFT JOIN Fee f ON f.category = t LEFT JOIN AdjustedFee af ON af.fee = f LEFT JOIN PaymentAdjustedFee paf ON paf.adjustedFee = af GROUP BY t.identifier,t.code,t.name ORDER BY t.name ASC,t.code ASC"
montantPayableChaine, "SELECT (SUM(CASE WHEN a.optional THEN 0 ELSE COALESCE(a.value,0) END) - COALESCE((SELECT SUM(sqt.amount) FROM PaymentAdjustedFee sqt WHERE sqt.adjustedFee.fee.category = t),0)) FROM FeeCategory t LEFT JOIN Fee f ON f.category = t LEFT JOIN AdjustedFee af ON af.fee = f LEFT JOIN PaymentAdjustedFee paf ON paf.adjustedFee = af GROUP BY t.identifier,t.code,t.name ORDER BY t.name ASC,t.code ASC"